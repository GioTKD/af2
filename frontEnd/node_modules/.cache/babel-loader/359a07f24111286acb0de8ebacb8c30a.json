{"ast":null,"code":"import Web3Istance from \"../Web3\";\nimport OnBoardingABI from '../../ABIs/OnBoarding.json';\nexport default class OnBoarding extends Web3Istance {\n  constructor() {\n    super();\n    let ABIScheduling = OnBoardingABI.abi;\n    let ContractNetworks = OnBoardingABI.networks;\n    let contractAddress = ContractNetworks[Object.keys(ContractNetworks)[Object.keys(ContractNetworks).length - 1]].address;\n    this.contract = new this.web3.eth.Contract(ABIScheduling, contractAddress); //console.log(`Indirizzo Contratto ----- `+ contractAddress);  \n  } //address,name,materialSupported,nozzles,mountedNozzles,printTemp,bedTemp,volume,soluble,foodSafety\n\n\n  async addPrinter(printerInfo) {\n    let account = await this.checkIfWalletIsConnected();\n    await this.contract.methods.addPrinter(printerInfo.address, this.utils.fromAscii(printerInfo.name), printerInfo.materiale, [0, 1, 2], parseInt(printerInfo.nozzles), parseInt(printerInfo.printTemp), parseInt(printerInfo.BedTemp), parseInt(printerInfo.volume), printerInfo.soluble, printerInfo.FoodSafety).send({\n      from: account,\n      gas: 4600000\n    });\n  }\n\n  async getPrinters() {\n    let account = await this.checkIfWalletIsConnected();\n    let result = await this.contract.methods.getMakerPrinters().call({\n      from: account\n    });\n    console.log(account);\n    console.log(result);\n    return result;\n  }\n\n  async RemovePrinter(index) {\n    let account = await this.checkIfWalletIsConnected();\n    await this.contract.methods.RemovePrinter(index).send({\n      from: account\n    });\n  }\n\n  async getPrinter(index) {\n    let account = await this.checkIfWalletIsConnected();\n    let result = await this.contract.methods.getMakerPrinter(index).call({\n      from: account\n    });\n    console.log(\"onboard\");\n    return result;\n  }\n\n  async addMaterial(material) {\n    let account = await this.checkIfWalletIsConnected();\n    console.log(account);\n    let result = await this.contract.methods.addMaterials(this.utils.asciiToHex(material.name), material.materiale, material.colors, material.quantityKG, material.printTemp, material.bedTemp).send({\n      from: account,\n      gas: 4600000\n    });\n    console.log(result);\n  }\n\n  async updateMaterial(name, type, color, quantityKG, printTemp, bedTemp) {\n    let account = await this.checkIfWalletIsConnected();\n    await this.contract.methods.updateMaterial(this.utils.asciiToHex(name), type, color, quantityKG, printTemp, bedTemp).send({\n      from: account\n    });\n  }\n\n  async removeMaterial(name, type) {\n    let account = await this.checkIfWalletIsConnected();\n    console.log(this.utils.toUtf8(name));\n    await this.contract.methods.removeMaterial(name, type).send({\n      from: account,\n      gas: 4600000\n    });\n  }\n\n  async mountMaterial(name, type, printer) {\n    let account = await this.checkIfWalletIsConnected();\n    await this.contract.methods.mountMaterial(name, type, printer).send({\n      from: account\n    });\n  }\n\n  async getMaterials() {\n    let account = await this.checkIfWalletIsConnected();\n    let result = await this.contract.methods.getMaterials().call({\n      from: account\n    });\n    console.log(account);\n    console.log(result);\n    return result;\n  }\n\n  async getMaterial(name, type) {\n    let account = await this.checkIfWalletIsConnected();\n    let result = await this.contract.methods.getMaterial(name, type).call({\n      from: account\n    });\n    return result;\n  }\n\n  async CheckMaterial(name) {\n    let account = await this.checkIfWalletIsConnected();\n    let result = await this.contract.methods.checkMaterial(this.utils.asciiToHex(name)).call({\n      from: account\n    });\n    return result;\n  }\n\n  async GetMaterialsName() {\n    let account = await this.checkIfWalletIsConnected();\n    let result = await this.contract.methods.getMaterialsName().call({\n      from: account\n    });\n    result.forEach(element => {\n      console.log(this.utils.toUtf8(element));\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/giova/OneDrive/Desktop/Desk/tirocinio/prova/frontEnd/src/SmartContracts/OnBoarding/OnBoarding.js"],"names":["Web3Istance","OnBoardingABI","OnBoarding","constructor","ABIScheduling","abi","ContractNetworks","networks","contractAddress","Object","keys","length","address","contract","web3","eth","Contract","addPrinter","printerInfo","account","checkIfWalletIsConnected","methods","utils","fromAscii","name","materiale","parseInt","nozzles","printTemp","BedTemp","volume","soluble","FoodSafety","send","from","gas","getPrinters","result","getMakerPrinters","call","console","log","RemovePrinter","index","getPrinter","getMakerPrinter","addMaterial","material","addMaterials","asciiToHex","colors","quantityKG","bedTemp","updateMaterial","type","color","removeMaterial","toUtf8","mountMaterial","printer","getMaterials","getMaterial","CheckMaterial","checkMaterial","GetMaterialsName","getMaterialsName","forEach","element"],"mappings":"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","sourcesContent":["import Web3Istance from \"../Web3\";\r\nimport OnBoardingABI from '../../ABIs/OnBoarding.json'\r\n\r\nexport default class OnBoarding extends Web3Istance{\r\n    constructor(){\r\n        super();\r\n        let ABIScheduling = OnBoardingABI.abi;\r\n        let ContractNetworks = OnBoardingABI.networks;\r\n        let contractAddress=ContractNetworks[Object.keys(ContractNetworks)[Object.keys(ContractNetworks).length - 1]].address;\r\n        this.contract=new this.web3.eth.Contract(ABIScheduling,contractAddress);\r\n        //console.log(`Indirizzo Contratto ----- `+ contractAddress);  \r\n        }\r\n    \r\n//address,name,materialSupported,nozzles,mountedNozzles,printTemp,bedTemp,volume,soluble,foodSafety\r\n        async addPrinter(printerInfo){\r\n            let account=await this.checkIfWalletIsConnected();\r\n            await this.contract.methods.addPrinter(\r\n                printerInfo.address,\r\n                this.utils.fromAscii(printerInfo.name),\r\n                printerInfo.materiale,\r\n                [0,1,2], \r\n                parseInt(printerInfo.nozzles),\r\n                parseInt(printerInfo.printTemp),\r\n                parseInt(printerInfo.BedTemp),\r\n                parseInt(printerInfo.volume),\r\n                printerInfo.soluble,\r\n                printerInfo.FoodSafety).send({from:account,gas:4600000}) \r\n        }\r\n\r\n        async getPrinters(){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            let result=await this.contract.methods.getMakerPrinters().call({from:account});\r\n           console.log(account)\r\n           console.log(result)\r\n            return result;\r\n        }\r\n        \r\n        async RemovePrinter(index){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            await this.contract.methods.RemovePrinter(index).send({from:account})\r\n        }\r\n\r\n        async getPrinter(index){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            let result = await this.contract.methods.getMakerPrinter(index).call({from:account});\r\n            console.log(\"onboard\")\r\n            return result;\r\n        }\r\n\r\n        async addMaterial(material){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            console.log(account)\r\n\r\n           let result = await this.contract.methods.addMaterials(\r\n                this.utils.asciiToHex(material.name),\r\n                material.materiale,\r\n                material.colors,\r\n                material.quantityKG,\r\n                material.printTemp,\r\n                material.bedTemp).send({from:account,gas:4600000});\r\n                console.log(result)\r\n           }\r\n\r\n        async updateMaterial(name, type, color, quantityKG, printTemp,bedTemp){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            await this.contract.methods.updateMaterial(this.utils.asciiToHex(name), type, color, quantityKG, printTemp,bedTemp).send({from:account});\r\n\r\n        }\r\n\r\n        async removeMaterial(name, type){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            console.log(this.utils.toUtf8(name))\r\n            await this.contract.methods.removeMaterial(name,type).send({from:account,gas:4600000})\r\n        }\r\n\r\n        async mountMaterial(name, type, printer){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            await this.contract.methods.mountMaterial(name, type, printer).send({from:account})\r\n        }\r\n\r\n        async getMaterials(){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            let result = await this.contract.methods.getMaterials().call({from:account});\r\n           console.log(account)\r\n           console.log(result)\r\n            return result;\r\n        }\r\n\r\n        async getMaterial(name,type){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            let result = await this.contract.methods.getMaterial(\r\n                name,\r\n                type\r\n            ).call({from:account});\r\n            return result;\r\n\r\n        }\r\n\r\n        async CheckMaterial(name){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            let result =  await this.contract.methods.checkMaterial(this.utils.asciiToHex(name)).call({from:account});\r\n\r\n            return result\r\n        }\r\n\r\n        async GetMaterialsName(){\r\n            let account = await this.checkIfWalletIsConnected();\r\n            let result = await this.contract.methods.getMaterialsName().call({from:account})\r\n            result.forEach(element => {\r\n                console.log(this.utils.toUtf8(element))\r\n            });\r\n        }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}